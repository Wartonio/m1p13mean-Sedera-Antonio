<div class="shop-profile" *ngIf="shop">
    <div class="bg-dark text-white py-5 mb-5 shadow-sm" 
         [style.background]="'linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(' + shop.image + ')'"
         style="background-size: cover; background-position: center; min-height: 300px; display: flex; align-items: center;">
      <div class="container">
        <button (click)="redirectBack()" class="btn btn-sm btn-outline-light mb-4 rounded-pill">
          <i class="pi pi-arrow-left"></i> Retour aux boutiques
        </button>
        <div class="row align-items-center">
          <div class="col-md-8">
            <span class="badge bg-primary mb-2">{{ shop.category }}</span>
            <h1 class="display-4 fw-bold">{{ shop.name }}</h1>
            <p class="lead opacity-75 mb-3">{{ shop.description }}</p>
            <div class="d-flex align-items-center gap-3 small">
              <span><i class="pi pi-map-marker me-1 text-primary"></i> {{ shop.location }}</span>
              <span><i class="pi pi-box me-1 text-primary"></i> {{ productShop.length }} Produits</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="container pb-5">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold m-0">Catalogue de la boutique</h3>
        <div class="border-bottom flex-grow-1 ms-4 opacity-25"></div>
      </div>
  
      <div class="row g-4" *ngIf="productShop.length > 0; else noProducts">
        <div class="col-12 col-md-6 col-lg-3" *ngFor="let p of productShop">
          <div class="card h-100 border-0 shadow-sm product-card">
            <div class="position-relative overflow-hidden bg-light" style="height: 200px;">
              <img [src]="p.image" class="card-img-top h-100 w-100 object-fit-cover" [alt]="p.name">
            </div>
            <div class="card-body">
              <h6 class="text-muted small mb-1">{{ p.category }}</h6>
              <h5 class="card-title fw-bold text-dark mb-2">{{ p.name }}</h5>
              <div class="text-primary fw-bold fs-5">{{ p.price | number:'1.0-0' }} Ar</div>
            </div>
            <div class="card-footer bg-transparent border-0 p-3 pt-0 d-flex gap-2">
              <button (click)="detailsProduct(p.id)" class="btn btn-outline-dark btn-sm flex-grow-1 rounded-pill">
                DÃ©tails
              </button>
              <button (click)="addToCart(p)" class="btn btn-dark btn-sm rounded-circle p-2" title="Ajouter au panier">
                <i class="pi pi-shopping-cart"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
  
      <ng-template #noProducts>
        <div class="text-center py-5">
          <i class="pi pi-info-circle text-muted" style="font-size: 3rem;"></i>
          <p class="mt-3 text-muted">Cette boutique n'a pas encore de produits en ligne.</p>
        </div>
      </ng-template>
    </div>
</div>
